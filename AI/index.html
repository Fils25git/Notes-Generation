<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Fila Assistant â€“ CBC Lesson Notes</title>
  <style>
    body {
      font-family: "Segoe UI", Arial, sans-serif;
      background: linear-gradient(135deg,#e8f0ff,#f6fbff);
      margin:0; padding:20px;
      display:flex; justify-content:center;
    }
    .container {
      width:900px; max-width:95%;
      background:white; padding:25px 30px;
      border-radius:14px; box-shadow:0 10px 30px rgba(0,0,0,0.12);
    }
    h2{text-align:center; color:#1a3d7c; margin-bottom:20px;}
    textarea {
      width:100%; padding:14px; border-radius:10px;
      border:1px solid #cfd8ea; font-size:16px; resize:vertical;
      outline:none; transition:0.2s;
    }
    textarea:focus{border-color:#4a7cff; box-shadow:0 0 0 3px rgba(74,124,255,0.15);}
    button{
      margin-top:15px; width:100%; padding:14px; font-size:17px; font-weight:600;
      border:none; border-radius:10px; background:linear-gradient(135deg,#4a7cff,#2f5de0);
      color:white; cursor:pointer; transition:0.25s;
    }
    button:hover{transform:translateY(-1px); box-shadow:0 8px 18px rgba(47,93,224,0.35);}
    #output{
      margin-top:25px; padding:25px; background:#fbfcff; border-radius:12px; border:1px solid #e2e8ff;
      line-height:1.7; font-size:16px; color:#222;
    }
    #output h2{color:#2f5de0; border-bottom:2px solid #dbe3ff; padding-bottom:6px;}
    #output h3{margin-top:22px; color:#1c2f5a;}
    #output ul{padding-left:22px;}
    #output li{margin-bottom:6px;}
    #output p{margin:10px 0;}
    @media(max-width:600px){body{padding:15px;} .container{padding:20px;}}
  </style>
</head>
<body>
  <div class="container">
    <h2>Fila Assistant â€“ CBC Lesson Notes</h2>
    <textarea id="prompt" rows="4" placeholder="Enter lesson title (e.g. Parts of a Plant)"></textarea>
    <button onclick="generate()">Generate Lesson Notes</button>
    <div id="output"></div>
  </div>

  <script>
    
    const API_KEY = "AIzaSyCJkAD5a7rEb_TL6cd7KuSR2aQIvYFlB7k"; // ðŸ”‘ Replace with your Gemini key
    const MODEL = "models/gemini-2.5-flash"; 


    async function generate() {
      const title = document.getElementById("prompt").value.trim();
      const output = document.getElementById("output");

      if (!title) {
        output.textContent = "Please enter a lesson title.";
        return;
      }

      output.textContent = "Generating lesson notes...";

      const fullPrompt = `
You are a professional Rwandan CBC teacher.
You strictly follow Rwanda CBC curriculum, syllabus, and approved learning standards.

The user will ONLY provide the lesson title.
You must generate complete classroom notes automatically.

STRICT RULES:
- Do NOT ask questions
- Do NOT explain your process
- Do NOT talk to the user
- Write long, detailed teaching notes
- Use simple English suitable for primary learners

OUTPUT FORMAT (CLEAN HTML ONLY):

<h2>LESSON TITLE: ${title}</h2>

<h3>Introduction</h3>
<p>Short engaging introduction.</p>

<h3>Objectives</h3>
<ul>
  <li>Objective 1</li>
  <li>Objective 2</li>
  <li>Objective 3</li>
</ul>

<h3>Key Vocabulary</h3>
<ul>
  <li>Word â€“ meaning</li>
</ul>

<h3>Lesson Notes</h3>
<p>Very detailed explanation in multiple paragraphs.</p>

<h3>Examples</h3>
<ul>
  <li>Real-life example</li>
</ul>

<h3>Classroom Activities</h3>
<ul>
  <li>Teacher activity</li>
  <li>Learner activity</li>
</ul>

<h3>Assessment Questions</h3>
<ul>
  <li>Question 1</li>
</ul>

<h3>Homework</h3>
<p>Simple homework task.</p>

Do NOT use markdown.
Do NOT write explanations.
Only output the lesson notes.
      `;

      try {
    const url = `https://generativelanguage.googleapis.com/v1beta/models/${MODEL}:generateContent?key=${API_KEY}`;
    const response = await fetch(url, {
    {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({
        contents: [{ parts: [{ text: fullPrompt }] }],
        generationConfig: { temperature: 0.6, maxOutputTokens: 2048 }
      })
    }
  );

  const data = await response.json();

  // ðŸ”´ Show full JSON response in the page
  output.textContent = JSON.stringify(data, null, 2);

  // Optional: if you still want notes, uncomment below
  // const text = data.candidates?.[0]?.content?.parts?.[0]?.text;
  // if (text) output.innerHTML = text;

} catch (error) {
  output.textContent = "Error: " + error.message;
    }
        }
  </script>
</body>
</html>
