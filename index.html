<!DOCTYPE html>
<html>
<head>
    <title>Teacher Note Assistant</title>
    <style>
        body { font-family: Arial; padding: 20px; }
        input, button, textarea { padding: 10px; font-size: 16px; margin: 5px 0; width: 100%; }
        #output { margin-top: 10px; }
    </style>
</head>
<body>

<h2>English Note Assistant</h2>

<input type="text" id="topicInput" placeholder="Enter topic here">
<button onclick="generateNotes()">Generate Notes</button>

<textarea id="output" rows="10" placeholder="Generated notes will appear here..."></textarea>
<button onclick="copyNotes()">Copy Notes</button>

<!-- Include Fuse.js -->
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.6.2"></script>

<script>
    // Notes database
    const notesDatabase = {
        "nouns": {
            keywords: ["noun", "nouns", "naming word", "name words"],
            content: [
                "Definition: A noun is a naming word.\nExamples: teacher, school, book.\nExercise: Write 5 nouns.",
                "Definition: Nouns are words for people, places, or things.\nExamples: cat, city, table.\nExercise: List 5 nouns.",
                "Definition: A noun names something.\nExamples: boy, school, pen.\nExercise: Find 5 nouns around you."
            ]
        },
        "verbs": {
            keywords: ["verb", "verbs", "action word", "doing words"],
            content: [
                "Definition: A verb is an action word.\nExamples: run, eat, play.\nExercise: Write 5 verbs.",
                "Definition: Verbs show action or state.\nExamples: jump, swim, read.\nExercise: Write 5 sentences with verbs."
            ]
        }
    };

    function generateNotes() {
        let topicInput = document.getElementById("topicInput").value.trim().toLowerCase();
        let found = false;

        // Prepare Fuse.js search list
        let searchList = [];
        let topicKeys = Object.keys(notesDatabase);
        topicKeys.forEach(key => {
            notesDatabase[key].keywords.forEach(word => {
                searchList.push({topic: key, keyword: word});
            });
        });

        // Fuse.js options
        const options = {
            keys: ["keyword"],
            threshold: 0.4, // 0.0 exact match, 1.0 very fuzzy
        };

        const fuse = new Fuse(searchList, options);
        const result = fuse.search(topicInput);

        if (result.length > 0) {
            let matchedTopic = result[0].item.topic;
            let notesArray = notesDatabase[matchedTopic].content;
            let randomIndex = Math.floor(Math.random() * notesArray.length);
            document.getElementById("output").value = notesArray[randomIndex];
            found = true;
        }

        if (!found) {
            document.getElementById("output").value = 
                "No notes found for this topic yet. AI can generate a draft here later.";
        }
    }

    function copyNotes() {
        let copyText = document.getElementById("output");
        copyText.select();
        copyText.setSelectionRange(0, 99999); // for mobile
        document.execCommand("copy");
        alert("Notes copied to clipboard!");
    }
</script>

</body>
  </html>
